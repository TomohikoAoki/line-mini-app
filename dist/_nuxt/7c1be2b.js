(window.webpackJsonp=window.webpackJsonp||[]).push([[7,3,4],{523:function(t,e,n){var content=n(526);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(90).default)("2caec069",content,!0,{sourceMap:!1})},524:function(t,e,n){var content=n(528);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(90).default)("f7cfdff4",content,!0,{sourceMap:!1})},525:function(t,e,n){"use strict";n(523)},526:function(t,e,n){var o=n(89)(!1);o.push([t.i,".modal-container[data-v-00ec8ac7]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:100;background-color:rgba(0,0,0,.3)}.modal-container .modal-content[data-v-00ec8ac7]{position:absolute;padding:2em 1em;width:90%;height:80%;background-color:#fff;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.modal-container .modal-content .register[data-v-00ec8ac7]{padding-top:2em}.btn[data-v-00ec8ac7]{display:block;margin:10% auto}.btn.disable[data-v-00ec8ac7]{opacity:.2}.form[data-v-00ec8ac7]{width:90%;margin:0 auto}.form .form-group[data-v-00ec8ac7]{margin:0 0 1em}.form .form-group .form-content .input-text[data-v-00ec8ac7]{display:block;border:1px solid #b7b7b7;width:100%;height:3em;border-radius:10px}.btn[data-v-00ec8ac7]{width:100px;margin:0 auto;padding:1.2em 0;text-align:center;background-color:#854b4b;border-radius:10px;color:#fff;font-weight:700}",""]),t.exports=o},527:function(t,e,n){"use strict";n(524)},528:function(t,e,n){var o=n(89)(!1);o.push([t.i,".modal-container[data-v-7593a8b3]{position:fixed;top:0;left:0;width:100vw;height:100vh}.modal-container .modal-content[data-v-7593a8b3]{position:absolute;padding:2em 1em;width:90%;background-color:#cacaca;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);text-align:center}",""]),t.exports=o},540:function(t,e,n){var content=n(566);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(90).default)("006cae7a",content,!0,{sourceMap:!1})},543:function(t,e,n){"use strict";n.r(e);var o={data:function(){return{formData:{usrmail:"",password:""}}},methods:{connect:function(){this.$emit("formData",this.formData)},close:function(){this.$emit("input",!1)}}},r=(n(525),n(69)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-container"},[n("div",{staticClass:"modal-content"},[n("p",[t._v("\n            以前にハートフル会員にご登録頂いている場合は、データの紐づけが必要です。\n            下記にご登録いただいたメールアドレスとパスワードを入力し、送信してください。\n        ")]),t._v(" "),n("form",{staticClass:"form"},[n("div",{staticClass:"form-group"},[n("label",[t._v("メールアドレス")]),t._v(" "),n("div",{staticClass:"form-content"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.usrmail,expression:"formData.usrmail"}],staticClass:"input-text",attrs:{type:"email"},domProps:{value:t.formData.usrmail},on:{input:function(e){e.target.composing||t.$set(t.formData,"usrmail",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v("パスワード")]),t._v(" "),n("div",{staticClass:"form-content"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],staticClass:"input-text",attrs:{type:"password"},domProps:{value:t.formData.password},on:{input:function(e){e.target.composing||t.$set(t.formData,"password",e.target.value)}}})])]),t._v(" "),n("button",{staticClass:"btn",on:{click:function(e){return e.preventDefault(),t.connect.apply(null,arguments)}}},[t._v("\n                確認\n            ")])]),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"register"},[t._v("\n            このまま利用する場合は閉じるを押してください。\n            "),n("button",{staticClass:"btn",on:{click:t.close}},[t._v("閉じる")])])])])}),[],!1,null,"00ec8ac7",null);e.default=component.exports},544:function(t,e,n){"use strict";n.r(e);n(117);var o={methods:{close:function(){this.$emit("close")}},mounted:function(){var t=this;setTimeout((function(){t.close()}),2e3)}},r=(n(527),n(69)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-container"},[n("div",{staticClass:"modal-content"},[t._t("default")],2)])}),[],!1,null,"7593a8b3",null);e.default=component.exports},565:function(t,e,n){"use strict";n(540)},566:function(t,e,n){var o=n(89)(!1);o.push([t.i,".app-main{position:relative}.point-area{width:90%;margin:0 auto;padding:50px 10px;filter:drop-shadow(0 0 5px #999);border-radius:10px}.point-area .point-title{text-align:center;background-color:#d99090;font-weight:700;color:#fff;padding:1em;border-radius:10px 10px 0 0}.point-content{background-color:#fff;padding:3em;text-align:center;border-radius:0 0 10px 10px}.point-content .point-display .point{color:#751528;font-weight:700;font-size:3em}.point-content .point-display .pt{font-weight:700;font-size:1.3em}.navi{display:flex;justify-content:center}.navi .navi-item{width:150px;padding:70px 0;text-align:center;background-color:#d99090;color:#fff;font-weight:700;border-radius:10px;margin:0 .4em}.navi .navi-item.disable{opacity:.2}.navi .navi-item a{width:100%;height:100%;display:inline-block}.btn{display:block;width:100px;margin:20px auto;padding:1.2em 0;text-align:center;background-color:#854b4b;border-radius:10px;color:#fff;font-weight:700}.test{width:90%;margin:0 auto;word-wrap:break-word}.labeel{display:inline-block;padding:.5em;background-color:#452424;color:#fff}.fade-enter{opacity:0;transform:translateY(-20px)}.fade-enter-to{opacity:1}.fade-enter-active{transition:opacity .25s ease-out,transform .25s ease-out}.fade-leave{opacity:1}.fade-leave-to{opacity:0}.fade-leave-active{transition:opacity .25s ease-out}",""]),t.exports=o},573:function(t,e,n){"use strict";n.r(e);n(72),n(59),n(71),n(118),n(60),n(119);var o=n(20),r=n(56),c=(n(70),n(154),n(543)),l=n(544),d=n(114),f=n(531),m=n.n(f);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var h={data:function(){return{modalFlag:!1,point:0,message:null,response:null,email:null,name:null,test:null,result:null,time:null,exp:null,qrError:null,qrValue:null,err:null}},components:{ConnectConfirm:c.default,FlashMessage:l.default},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(d.b)({token:"getToken",member:"getMember",lineProfile:"getProfile"})),watch:{token:function(t){var e=this;t&&($nuxt.$loading.start(),m.a.get("https://sysf.heartful.work/epoints/verifyLineToken/?id_token=".concat(this.token)).then((function(t){e.response=t.data,e.message="会員情報との紐づけができました。",$nuxt.$loading.finish()})).catch((function(t){if(!t.response)return e.err=t,e.message="ネットワークエラー。ステータスコード拾えない",$nuxt.$loading.finish(),!1;e.err=t.response,e.modalFlag=!0,$nuxt.$loading.finish()})))}},methods:{connectMember:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.modalFlag=!1,$nuxt.$loading.start(),n.next=4,m.a.get("https://uranai.heartf.com/Public/epoints/linkmember/?usrmail=".concat(t.usrmail,"&password=").concat(t.password,"&id_token=").concat(e.token)).catch((function(t){return t.response?t.response:(e.err=t,e.message="ネットワークエラー。ステータスコード拾えない",t)}));case 4:o=n.sent,e.response=o.data,200===o.status?e.message="紐づけが完了しました":404===o.status?e.message="情報が見つかりませんでした。":e.message="まだ設定していないエラーです",$nuxt.$loading.finish();case 8:case"end":return n.stop()}}),n)})))()},sendPoint:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.post("https://tonq.net/api/heartful/point/add",t,{headers:{Authorization:"ApiToken ymEYCBC4BjxjxAhvgUF2TLCqRmYtwXaNKjwSbwjv"}}).catch((function(t){return t.response}));case 2:return o=n.sent,e.response=o,n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)})))()},readingQrCode:function(){var t=this;$nuxt.$loading.start(),liff.scanCodeV2().then((function(e){t.qrValue=e;(new Date).getTime()})).catch((function(e){t.message="すでに使用されたクーポンです"})),$nuxt.$loading.finish()},closeMessage:function(){this.message=null}},mounted:function(){var t=this;this.$liffInit.then((function(){var e=liff.getIDToken(),n=liff.getDecodedIDToken();t.$store.dispatch("setToken",e),t.$store.dispatch("setProfile",n)})).catch((function(e){t.error=e}))}},x=h,w=(n(565),n(69)),component=Object(w.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-main"},[n("div",{staticClass:"point-area"},[n("div",[n("h1",{staticClass:"point-title"},[t._v("ハートフルポイント")]),t._v(" "),n("div",{staticClass:"point-content"},[n("p",{staticClass:"current-point"},[t._v("現在のポイント:")]),t._v(" "),n("p",{staticClass:"point-display"},[n("span",{staticClass:"point"},[t._v(t._s(t.point))]),n("span",{staticClass:"pt"},[t._v("pt")])])])])]),t._v(" "),n("div",{staticClass:"navi"},[n("div",{staticClass:"navi-item",on:{click:t.readingQrCode}},[t._v("ポイントを"),n("br"),t._v("貯める")]),t._v(" "),n("div",{staticClass:"navi-item"},[t._v("ポイントを使う")])]),t._v(" "),n("div",{staticClass:"test"},[n("p",[n("span",{staticClass:"labeel"},[t._v("response")]),n("br"),t._v(" "+t._s(t.response))]),t._v(" "),n("p",[n("span",{staticClass:"labeel"},[t._v("err")]),n("br"),t._v(t._s(t.err))])]),t._v(" "),t.modalFlag?n("ConnectConfirm",{on:{formData:t.connectMember},model:{value:t.modalFlag,callback:function(e){t.modalFlag=e},expression:"modalFlag"}}):t._e(),t._v(" "),n("Transition",{attrs:{name:"fade"}},[t.message?n("FlashMessage",{on:{close:t.closeMessage}},[t._v(t._s(t.message))]):t._e()],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);